package com.pedidos.reservadegrass.activity;import android.content.Intent;import android.os.Bundle;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import com.bumptech.glide.Glide;import com.firebase.ui.firestore.FirestoreRecyclerAdapter;import com.firebase.ui.firestore.FirestoreRecyclerOptions;import com.google.firebase.firestore.FirebaseFirestore;import com.google.firebase.firestore.Query;import com.pedidos.reservadegrass.R;import com.pedidos.reservadegrass.data.ObjetoPerdidodata;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import androidx.appcompat.widget.Toolbar;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;public class ObjetoPerdidoActivity extends AppCompatActivity		 {//FirebaseFirestore rootRef;	RecyclerView recyclerView;	private FirestoreRecyclerAdapter adapter;	@Override	protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_objetosperdidos);		ImageView finalzar;		finalzar=findViewById(R.id.back);		finalzar.setOnClickListener(new View.OnClickListener() {			@Override			public void onClick(View view) {				adapter.stopListening();				startActivity(new Intent(ObjetoPerdidoActivity.this, VentasActivity.class));				finish();			}		});		Toolbar toolbar =  findViewById(R.id.toolbar);		setSupportActionBar(toolbar);		rootRef	= FirebaseFirestore.getInstance();		recyclerView= findViewById(R.id.recyclerview);		Query query = rootRef.collection("objetoPerdido");		//   .orderBy("dni", Query.Direction.ASCENDING);		FirestoreRecyclerOptions<ObjetoPerdidodata> response = new FirestoreRecyclerOptions.Builder<ObjetoPerdidodata>()				                                            .setQuery(query, ObjetoPerdidodata.class)				                                            .build();		adapter = new FirestoreRecyclerAdapter<ObjetoPerdidodata , ProductViewHolder>(response) {			@NonNull			@Override			public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {				View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_productos, parent, false);				return new ObjetoPerdidoActivity.ProductViewHolder(view);			}			@Override			protected void onBindViewHolder(@NonNull ProductViewHolder holder, int position, @NonNull ObjetoPerdidodata model) {				holder.nombre.setText(model.getNombre());				holder.description.setText(model.getColor());				holder.tvprecio.setText(model.getLugarpedida());				Glide.with(ObjetoPerdidoActivity.this)						.load(model.getFotoobjeto())						.into(holder.imagen);				holder.imagen.setOnClickListener(new View.OnClickListener() {					@Override					public void onClick(View view) {						//Toast.makeText(VentasActivity.this,"RESERVADO",Toast.LENGTH_SHORT).show();					}				});			}		};		recyclerView.setHasFixedSize(true);		recyclerView.setLayoutManager(new LinearLayoutManager(this));//		recyclerView.setLayoutManager(new GridLayoutManager(this,2));		recyclerView.setAdapter(adapter);	}	private class ProductViewHolder extends RecyclerView.ViewHolder {		//	public View view;		private TextView nombre, description, tvprecio;		ImageView imagen;		ProductViewHolder(View itemView) {			super(itemView);			//view = itemView;			nombre= itemView.findViewById(R.id.tvnombre);			description = itemView.findViewById(R.id.tvDescripcion);			tvprecio = itemView.findViewById(R.id.tvPrecio);			imagen  = itemView.findViewById(R.id.imagen);		}			/*		void setProductName(String productName) {			TextView textView = view.findViewById(R.id.tvnombre);			textView.setText(productName);		}*/	}	@Override	protected void onStart() {		super.onStart();		adapter.startListening();	}	@Override	protected void onStop() {		super.onStop();		if (adapter != null) {			adapter.stopListening();		}	}			 @Override			 public void onBackPressed() {				 adapter.stopListening();				 startActivity(new Intent(ObjetoPerdidoActivity.this, VentasActivity.class));				 finish();			 }}